(this["webpackJsonpmovie-browser"]=this["webpackJsonpmovie-browser"]||[]).push([[0],{156:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(42),a=n.n(c),o=n(49),s=n.n(o),u=n(115),l=n(110),j=n.n(l)()((function(e){return{favoriteList:JSON.parse(localStorage.getItem("favoriteList")||"[]"),ratedMovies:JSON.parse(localStorage.getItem("ratedMovies")||"{}"),searchValue:"",sidebarVisible:!1,movieList:[],modalDetails:null,setSearchValue:function(t){return e({searchValue:t})},setMovieList:function(t){return e({movieList:t})},setModalDetails:function(t){return e({modalDetails:t})},setSidebarVisible:function(t){return e({sidebarVisible:t})},addUserRating:function(t){e((function(e){return{ratedMovies:t}}))},addToFavorites:function(t){e((function(e){return{favoriteList:[t].concat(Object(u.a)(e.favoriteList))}}))},removeFromFavorites:function(t){return e((function(e){return{favoriteList:e.favoriteList.filter((function(e){return e.imdbID!==t}))}}))}}})),d=n(174),b=n(169),f=n(116),m=n(4),v=function(e){var t=e.movie,n=j((function(e){return e.setModalDetails}));return Object(m.jsxs)(d.a,{className:"movie-element",onClick:function(){return function(){var e="https://www.omdbapi.com/?i=".concat(t.imdbID,"&apikey=b46dc190");s.a.get(e).then((function(e){n(e.data)})).catch((function(e){return console.log(e)}))}(t.imdbID)},children:[Object(m.jsx)(b.a,{className:"movie-element-img-container",children:Object(m.jsx)(f.a,{src:t.Poster,alt:"poster unavailable",wrapped:!0,className:"movie-element-img",centered:!0})}),Object(m.jsxs)(d.a.Content,{children:[Object(m.jsx)(d.a.Header,{children:t.Title}),Object(m.jsx)(d.a.Description,{children:Object(m.jsx)("p",{children:t.Year})})]})]})},h=function(){var e=j((function(e){return e.movieList}));return Object(m.jsx)(m.Fragment,{children:e&&Object(m.jsx)("div",{className:"list-container",children:e.map((function(e){return Object(m.jsx)(v,{movie:e},e.imdbID)}))})})},O=n(170),x=n(47),g=function(e){var t=j((function(e){return e.searchValue})),n=j((function(e){return e.setSearchValue}));return Object(m.jsx)(b.a,{className:"search-container",children:Object(m.jsx)(O.a,{className:"search-input",size:"big",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Search for a movie :)",icon:t?Object(m.jsx)(x.a,{name:"remove",inverted:!0,circular:!0,link:!0,onClick:function(){return n("")}}):null})})},p=n(173),D=n(177),I=n(178),S=n(179),w=n(63),y=n(180),L=n(158),V=n(171),k=function(){var e=j((function(e){return e.modalDetails})),t=j((function(e){return e.setModalDetails})),n=j((function(e){return e.favoriteList})),r=j((function(e){return e.addToFavorites})),i=j((function(e){return e.removeFromFavorites})),c=j((function(e){return e.ratedMovies})),a=j((function(e){return e.addUserRating})),o=e?c[e.imdbID]:null;return Object(m.jsx)(m.Fragment,{children:e&&Object(m.jsxs)(p.a,{onClose:function(){return t(null)},open:!!e,children:[Object(m.jsxs)(p.a.Content,{image:!0,children:[Object(m.jsx)(f.a,{size:"big",src:e.Poster,wrapped:!0}),Object(m.jsxs)(p.a.Description,{children:[Object(m.jsxs)(D.a,{children:[e.Title," ",e.Year]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Genre:"})," ",e.Genre]})," ",Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Director:"})," ",e.Director]}),Object(m.jsx)("p",{children:e.Plot}),e.Ratings.length>0||e.Ratings!==[]?Object(m.jsx)("strong",{children:Object(m.jsx)("p",{style:{marginBottom:10},children:"Rating:"})}):null,e.Ratings.length>0||e.Ratings!==[]?e.Ratings.map((function(e){return Object(m.jsxs)("p",{children:[Object(m.jsxs)("strong",{children:[e.Source,":"]})," ",e.Value]})})):null]})]}),Object(m.jsx)(p.a.Actions,{children:Object(m.jsxs)(I.a,{children:[Object(m.jsxs)(S.a,{columns:2,relaxed:"very",centered:!0,children:[Object(m.jsxs)(S.a.Column,{centered:!0,textAlign:"center",children:[Object(m.jsx)(w.a,{children:"How would you rate this movie?"}),Object(m.jsxs)("p",{style:{margin:"7px 0"},children:["Your rating:"," ",o||"You haven't rated it yet. Did you like it?"]}),Object(m.jsx)("input",{type:"range",min:0,max:10,value:o||0,onChange:function(t){var n={imdbID:e.imdbID,userRating:t.target.value,ratedBefore:!0},r=c,i=Object.assign({},r);i[n.imdbID]=n.userRating,a(i)}}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(y.a,{icon:"star",rating:o||0,maxRating:10})]}),Object(m.jsx)(S.a.Column,{centered:!0,textAlign:"center",children:n.find((function(t){return t.imdbID===e.imdbID}))?Object(m.jsx)(L.a,{onClick:function(){return i(e.imdbID)},color:"red",children:"Remove from favorites"}):Object(m.jsx)(L.a,{onClick:function(){return r(e)},color:"blue",children:"Add to favorites"})})]}),Object(m.jsx)(V.a,{vertical:!0})]})})]})})},C=n(181),M=n(172),N=function(e){var t=e.movie,n=j((function(e){return e.setModalDetails}));return Object(m.jsxs)(M.a.Item,{onClick:function(){return function(){var e="https://www.omdbapi.com/?i=".concat(t.imdbID,"&apikey=b46dc190");s.a.get(e).then((function(e){n(e.data)})).catch((function(e){return console.log(e)}))}(t.imdbID)},children:[t.Title," - ",t.Year]})},R=function(){var e=j((function(e){return e.sidebarVisible})),t=j((function(e){return e.favoriteList})),n=j((function(e){return e.setSidebarVisible}));return Object(r.useEffect)((function(){0===t.length&&n(!1)}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(C.a,{as:M.a,animation:"overlay",inverted:!0,vertical:!0,visible:e,children:[Object(m.jsx)("h3",{children:"Your favorite movies!"}),t.length>0?t.map((function(e){return Object(m.jsx)(N,{movie:e},e.imdbID)})):null]})})},F=function(){var e=j((function(e){return e.sidebarVisible})),t=j((function(e){return e.setSidebarVisible}));return e?Object(m.jsx)(L.a,{inverted:!0,color:"grey",className:"sidebar-toggle",onClick:function(){return t(!1)},children:"Hide favorites"}):Object(m.jsx)(L.a,{inverted:!0,color:"grey",className:"sidebar-toggle",onClick:function(){return t(!0)},children:"Show favorites"})},J=n(176),Y=function(){var e=j((function(e){return e.sidebarVisible})),t=j((function(e){return e.setSidebarVisible}));return Object(m.jsx)(J.a,{active:e,onClickOutside:function(){return t(!e)},page:!0})},A=(n(156),function(){var e=j((function(e){return e.searchValue})),t=j((function(e){return e.movieList})),n=j((function(e){return e.setMovieList})),i=j((function(e){return e.favoriteList})),c=j((function(e){return e.ratedMovies})),a="https://www.omdbapi.com/?s=".concat(e,"&apikey=b46dc190");return Object(r.useEffect)((function(){s.a.get(a).then((function(e){n(e.data.Search)})).catch((function(e){return console.log(e)})),""===e&&n([])}),[e]),Object(r.useEffect)((function(){localStorage.setItem("favoriteList",JSON.stringify(i))}),[i]),Object(r.useEffect)((function(){localStorage.setItem("ratedMovies",JSON.stringify(c))}),[c]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(R,{}),Object(m.jsxs)(I.a,{basic:!0,children:[Object(m.jsx)(g,{}),t?Object(m.jsx)(h,{}):null,Object(m.jsx)(k,{}),i.length?Object(m.jsx)(F,{}):null]}),Object(m.jsx)(Y,{})]})});a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(A,{})}),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.59d6fdf6.chunk.js.map