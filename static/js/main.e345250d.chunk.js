(this["webpackJsonpmovie-browser"]=this["webpackJsonpmovie-browser"]||[]).push([[0],{157:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(42),a=n.n(c),s=n(49),o=n.n(s),u=n(117),l=n(111),j=n.n(l)()((function(e){return{favoriteList:JSON.parse(localStorage.getItem("favoriteList")||"[]"),ratedMovies:JSON.parse(localStorage.getItem("ratedMovies")||"{}"),searchValue:"",sidebarVisible:!1,movieList:[],modalDetails:null,setSearchValue:function(t){return e({searchValue:t})},setMovieList:function(t){return e({movieList:t})},setModalDetails:function(t){return e({modalDetails:t})},setSidebarVisible:function(t){return e({sidebarVisible:t})},addUserRating:function(t){e({ratedMovies:t})},addToFavorites:function(t){e((function(e){return{favoriteList:[t].concat(Object(u.a)(e.favoriteList))}}))},removeFromFavorites:function(t){return e((function(e){return{favoriteList:e.favoriteList.filter((function(e){return e.imdbID!==t}))}}))}}})),d=n(112),b=n.n(d),f=n(175),m=n(170),v=n(118),h=n(4),O=function(e){var t=e.movie,n=j((function(e){return e.setModalDetails}));return Object(h.jsxs)(f.a,{className:"movie-element",onClick:function(){return function(){var e="https://www.omdbapi.com/?i=".concat(t.imdbID,"&apikey=b46dc190");o.a.get(e).then((function(e){n(e.data)})).catch((function(e){return console.log(e)}))}(t.imdbID)},children:[Object(h.jsx)(m.a,{className:"movie-element-img-container",children:Object(h.jsx)(v.a,{src:t.Poster,alt:"poster unavailable",wrapped:!0,className:"movie-element-img",centered:!0})}),Object(h.jsxs)(f.a.Content,{children:[Object(h.jsx)(f.a.Header,{children:t.Title}),Object(h.jsx)(f.a.Description,{children:Object(h.jsx)("p",{children:t.Year})})]})]})},x=function(){var e=j((function(e){return e.movieList}));return Object(h.jsx)(h.Fragment,{children:e&&Object(h.jsx)("div",{className:"list-container",children:e.map((function(e){return Object(h.jsx)(O,{movie:e},e.imdbID)}))})})},g=n(171),p=n(47),D=function(){var e=j((function(e){return e.searchValue})),t=j((function(e){return e.setSearchValue}));return Object(h.jsx)(m.a,{className:"search-container",children:Object(h.jsx)(g.a,{className:"search-input",size:"big",value:e,onChange:function(e){return t(e.target.value)},placeholder:"Search for a movie :)",icon:e?Object(h.jsx)(p.a,{name:"remove",inverted:!0,circular:!0,link:!0,onClick:function(){return t("")}}):null})})},I=n(174),S=n(178),w=n(179),y=n(180),k=n(63),C=n(181),L=n(159),V=n(172),M=function(){var e=j((function(e){return e.modalDetails})),t=j((function(e){return e.setModalDetails})),n=j((function(e){return e.favoriteList})),r=j((function(e){return e.addToFavorites})),i=j((function(e){return e.removeFromFavorites})),c=j((function(e){return e.ratedMovies})),a=j((function(e){return e.addUserRating})),s=e?c[e.imdbID]:null;return Object(h.jsx)(h.Fragment,{children:e&&Object(h.jsxs)(I.a,{onClose:function(){return t(null)},open:!!e,children:[Object(h.jsxs)(I.a.Content,{image:!0,children:[Object(h.jsx)(v.a,{size:"big",src:e.Poster,wrapped:!0}),Object(h.jsxs)(I.a.Description,{children:[Object(h.jsxs)(S.a,{children:[e.Title," ",e.Year," ",Object(h.jsx)("div",{class:"ui horizontal label",children:e.Type})]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Genre:"})," ",e.Genre]})," ",Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Director:"})," ",e.Director]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Runtime:"})," ",e.Runtime]}),Object(h.jsx)("p",{children:e.Plot}),e.Ratings?Object(h.jsx)("strong",{children:Object(h.jsx)("p",{style:{marginBottom:10},children:"Ratings:"})}):null,e.Ratings?e.Ratings.map((function(e){return Object(h.jsxs)("p",{children:[Object(h.jsxs)("strong",{children:[e.Source,":"]})," ",e.Value]})})):null]})]}),Object(h.jsx)(I.a.Actions,{children:Object(h.jsxs)(w.a,{children:[Object(h.jsxs)(y.a,{columns:2,relaxed:"very",centered:!0,children:[Object(h.jsxs)(y.a.Column,{centered:!0,textAlign:"center",children:[Object(h.jsx)(k.a,{children:"How would you rate this movie?"}),Object(h.jsxs)("p",{style:{margin:"7px 0"},children:["Your rating:"," ",s||"You haven't rated it yet. Did you like it?"]}),Object(h.jsx)("input",{type:"range",min:0,max:10,value:s||0,onChange:function(t){var n={imdbID:e.imdbID,userRating:t.target.value,ratedBefore:!0},r=c,i=Object.assign({},r);i[n.imdbID]=n.userRating,a(i)}}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(C.a,{icon:"star",rating:s||0,maxRating:10})]}),Object(h.jsx)(y.a.Column,{centered:!0,textAlign:"center",children:n.find((function(t){return t.imdbID===e.imdbID}))?Object(h.jsx)(L.a,{onClick:function(){return i(e.imdbID)},color:"red",children:"Remove from favorites"}):Object(h.jsx)(L.a,{onClick:function(){return r(e)},color:"blue",children:"Add to favorites"})})]}),Object(h.jsx)(V.a,{vertical:!0})]})})]})})},N=n(182),R=n(173),F=function(e){var t=e.movie,n=j((function(e){return e.setModalDetails}));return Object(h.jsxs)(R.a.Item,{onClick:function(){return function(){var e="https://www.omdbapi.com/?i=".concat(t.imdbID,"&apikey=b46dc190");o.a.get(e).then((function(e){n(e.data)})).catch((function(e){return console.log(e)}))}(t.imdbID)},children:[t.Title," - ",t.Year]})},T=function(){var e=j((function(e){return e.sidebarVisible})),t=j((function(e){return e.favoriteList})),n=j((function(e){return e.setSidebarVisible}));return Object(r.useEffect)((function(){0===t.length&&n(!1)}),[t]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(N.a,{as:R.a,animation:"overlay",inverted:!0,vertical:!0,visible:e,children:[Object(h.jsx)("h3",{children:"Your favorite movies!"}),t.length>0?t.map((function(e){return Object(h.jsx)(F,{movie:e},e.imdbID)})):null]})})},J=function(){var e=j((function(e){return e.sidebarVisible})),t=j((function(e){return e.setSidebarVisible}));return e?Object(h.jsx)(L.a,{inverted:!0,color:"grey",className:"sidebar-toggle",onClick:function(){return t(!1)},children:"Hide favorites"}):Object(h.jsx)(L.a,{inverted:!0,color:"grey",className:"sidebar-toggle",onClick:function(){return t(!0)},children:"Show favorites"})},Y=n(177),A=function(){var e=j((function(e){return e.sidebarVisible})),t=j((function(e){return e.setSidebarVisible}));return Object(h.jsx)(Y.a,{active:e,onClickOutside:function(){return t(!e)},page:!0})},E=(n(157),function(){var e=j((function(e){return e.searchValue})),t=j((function(e){return e.movieList})),n=j((function(e){return e.setMovieList})),i=j((function(e){return e.favoriteList})),c=j((function(e){return e.ratedMovies})),a="https://www.omdbapi.com/?s=".concat(e,"&apikey=b46dc190"),s=Object(r.useCallback)(b()((function(){o.a.get(a).then((function(e){var t=e.data.Search.filter((function(e){return"game"!==e.Type}));n(t)})).catch((function(e){return console.log(e)}))}),500),[e]);return Object(r.useEffect)((function(){return s(),""===e&&n(null),s.cancel}),[e]),Object(r.useEffect)((function(){localStorage.setItem("favoriteList",JSON.stringify(i))}),[i]),Object(r.useEffect)((function(){localStorage.setItem("ratedMovies",JSON.stringify(c))}),[c]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(T,{}),Object(h.jsxs)(w.a,{basic:!0,children:[Object(h.jsx)(D,{}),t?Object(h.jsx)(x,{}):null,Object(h.jsx)(M,{}),i.length?Object(h.jsx)(J,{}):null]}),Object(h.jsx)(A,{})]})});a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.e345250d.chunk.js.map