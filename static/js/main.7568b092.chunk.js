(this["webpackJsonpmovie-browser"]=this["webpackJsonpmovie-browser"]||[]).push([[0],{157:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(42),a=n.n(c),s=n(49),o=n.n(s),u=n(111),l=n.n(u),j=n(117),d=n(112),b=n.n(d),f=JSON.parse(localStorage.getItem("favoriteList")||"[]"),m=JSON.parse(localStorage.getItem("ratedMovies")||"{}"),v=b()((function(e){return{favoriteList:f,ratedMovies:m,searchValue:"",sidebarVisible:!1,movieList:[],modalDetails:null,setSearchValue:function(t){return e({searchValue:t})},setMovieList:function(t){return e({movieList:t})},setModalDetails:function(t){return e({modalDetails:t})},setSidebarVisible:function(t){return e({sidebarVisible:t})},addUserRating:function(t){e({ratedMovies:t})},addToFavorites:function(t){e((function(e){return{favoriteList:[t].concat(Object(j.a)(e.favoriteList))}}))},removeFromFavorites:function(t){return e((function(e){return{favoriteList:e.favoriteList.filter((function(e){return e.imdbID!==t}))}}))}}})),h=n(175),O=n(170),x=n(118),g=n(4),p=function(e){var t=e.movie,n=v((function(e){return e.setModalDetails}));return Object(g.jsxs)(h.a,{className:"movie-element",onClick:function(){return function(){var e="https://www.omdbapi.com/?i=".concat(t.imdbID,"&apikey=b46dc190");o.a.get(e).then((function(e){n(e.data)})).catch((function(e){return console.log(e)}))}(t.imdbID)},children:[Object(g.jsx)(O.a,{className:"movie-element-img-container",children:Object(g.jsx)(x.a,{src:t.Poster,alt:"poster unavailable",wrapped:!0,className:"movie-element-img",centered:!0})}),Object(g.jsxs)(h.a.Content,{children:[Object(g.jsx)(h.a.Header,{children:t.Title}),Object(g.jsx)(h.a.Description,{children:Object(g.jsx)("p",{children:t.Year})})]})]})},D=function(){var e=v((function(e){return e.movieList}));return Object(g.jsx)(g.Fragment,{children:e&&Object(g.jsx)("div",{className:"list-container",children:e.map((function(e){return Object(g.jsx)(p,{movie:e},e.imdbID)}))})})},I=n(171),S=n(47),w=function(){var e=v((function(e){return e.searchValue})),t=v((function(e){return e.setSearchValue}));return Object(g.jsx)(O.a,{className:"search-container",children:Object(g.jsx)(I.a,{className:"search-input",size:"big",value:e,onChange:function(e){return t(e.target.value)},placeholder:"Search for a movie :)",icon:e?Object(g.jsx)(S.a,{name:"remove",inverted:!0,circular:!0,link:!0,onClick:function(){return t("")}}):null})})},y=n(174),k=n(178),C=n(179),L=n(180),N=n(63),V=n(181),M=n(159),R=n(172),F=function(){var e=v((function(e){return e.modalDetails})),t=v((function(e){return e.setModalDetails})),n=v((function(e){return e.favoriteList})),r=v((function(e){return e.addToFavorites})),i=v((function(e){return e.removeFromFavorites})),c=v((function(e){return e.ratedMovies})),a=v((function(e){return e.addUserRating})),s=e?c[e.imdbID]:null;return Object(g.jsx)(g.Fragment,{children:e&&Object(g.jsxs)(y.a,{onClose:function(){return t(null)},open:!!e,children:[Object(g.jsxs)(y.a.Content,{image:!0,children:[Object(g.jsx)(x.a,{size:"big",src:e.Poster,wrapped:!0}),Object(g.jsxs)(y.a.Description,{children:[Object(g.jsxs)(k.a,{children:[e.Title," ",e.Year," ",Object(g.jsx)("div",{class:"ui horizontal label",children:e.Type})]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Genre:"})," ",e.Genre]})," ",Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Director:"})," ",e.Director]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Runtime:"})," ",e.Runtime]}),Object(g.jsx)("p",{children:e.Plot}),e.Ratings?Object(g.jsx)("strong",{children:Object(g.jsx)("p",{style:{marginBottom:10},children:"Ratings:"})}):null,e.Ratings?e.Ratings.map((function(e){return Object(g.jsxs)("p",{children:[Object(g.jsxs)("strong",{children:[e.Source,":"]})," ",e.Value]})})):null]})]}),Object(g.jsx)(y.a.Actions,{children:Object(g.jsxs)(C.a,{children:[Object(g.jsxs)(L.a,{columns:2,relaxed:"very",centered:!0,children:[Object(g.jsxs)(L.a.Column,{centered:!0,textAlign:"center",children:[Object(g.jsx)(N.a,{children:"How would you rate this movie?"}),Object(g.jsxs)("p",{style:{margin:"7px 0"},children:["Your rating:"," ",s||"You haven't rated it yet. Did you like it?"]}),Object(g.jsx)("input",{type:"range",min:0,max:10,value:s||0,onChange:function(t){var n={imdbID:e.imdbID,userRating:t.target.value,ratedBefore:!0},r=c,i=Object.assign({},r);i[n.imdbID]=n.userRating,a(i)}}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(V.a,{className:"star-rating",icon:"star",rating:s||0,maxRating:10})]}),Object(g.jsx)(L.a.Column,{centered:!0,textAlign:"center",children:n.find((function(t){return t.imdbID===e.imdbID}))?Object(g.jsx)(M.a,{onClick:function(){return i(e.imdbID)},color:"red",children:"Remove from favorites"}):Object(g.jsx)(M.a,{onClick:function(){return r(e)},color:"blue",children:"Add to favorites"})})]}),Object(g.jsx)(R.a,{vertical:!0})]})})]})})},T=n(173),J=function(e){var t=e.movie,n=v((function(e){return e.setModalDetails}));return Object(g.jsxs)(T.a.Item,{onClick:function(){return function(){var e="https://www.omdbapi.com/?i=".concat(t.imdbID,"&apikey=b46dc190");o.a.get(e).then((function(e){n(e.data)})).catch((function(e){return console.log(e)}))}(t.imdbID)},children:[t.Title," - ",t.Year]})},Y=n(182),A=function(){var e=v((function(e){return e.sidebarVisible})),t=v((function(e){return e.favoriteList})),n=v((function(e){return e.setSidebarVisible}));return Object(r.useEffect)((function(){0===t.length&&n(!1)}),[t]),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Y.a,{as:T.a,animation:"overlay",inverted:!0,vertical:!0,visible:e,children:[Object(g.jsx)("h3",{children:"Your favorite movies!"}),t.length>0?t.map((function(e){return Object(g.jsx)(J,{movie:e},e.imdbID)})):null]})})},E=function(){var e=v((function(e){return e.sidebarVisible})),t=v((function(e){return e.setSidebarVisible}));return e?Object(g.jsx)(M.a,{inverted:!0,color:"grey",className:"sidebar-toggle",onClick:function(){return t(!1)},children:"Hide favorites"}):Object(g.jsx)(M.a,{inverted:!0,color:"grey",className:"sidebar-toggle",onClick:function(){return t(!0)},children:"Show favorites"})},z=n(177),B=function(){var e=v((function(e){return e.sidebarVisible})),t=v((function(e){return e.setSidebarVisible}));return Object(g.jsx)(z.a,{active:e,onClickOutside:function(){return t(!e)},page:!0})},H=(n(157),function(){var e=v((function(e){return e.searchValue})),t=v((function(e){return e.movieList})),n=v((function(e){return e.setMovieList})),i=v((function(e){return e.favoriteList})),c=v((function(e){return e.ratedMovies})),a="https://www.omdbapi.com/?s=".concat(e,"&apikey=b46dc190"),s=Object(r.useCallback)(l()((function(){o.a.get(a).then((function(e){var t=e.data.Search.filter((function(e){return"game"!==e.Type}));n(t)})).catch((function(e){return console.log(e)}))}),500),[e]);return Object(r.useEffect)((function(){return s(),""===e&&n(null),s.cancel}),[e]),Object(r.useEffect)((function(){localStorage.setItem("favoriteList",JSON.stringify(i))}),[i]),Object(r.useEffect)((function(){localStorage.setItem("ratedMovies",JSON.stringify(c))}),[c]),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(A,{}),Object(g.jsx)(C.a,{basic:!0,className:"app-container",children:Object(g.jsx)(w,{})}),t?Object(g.jsx)(C.a,{basic:!0,className:"app-container",children:Object(g.jsx)(D,{})}):null,Object(g.jsx)(F,{}),i.length?Object(g.jsx)(C.a,{basic:!0,children:Object(g.jsx)(E,{})}):null,Object(g.jsx)(B,{})]})});a.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(H,{})}),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.7568b092.chunk.js.map