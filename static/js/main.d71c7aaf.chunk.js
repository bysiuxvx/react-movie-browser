(this["webpackJsonpmovie-browser"]=this["webpackJsonpmovie-browser"]||[]).push([[0],{157:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var r,i=n(0),c=n.n(i),a=n(42),s=n.n(a),o=n(49),l=n.n(o),u=n(111),j=n.n(u),d=n(117),b=n(112),f=n.n(b),m=JSON.parse(localStorage.getItem("favoriteList")||"[]"),v=JSON.parse(localStorage.getItem("ratedMovies")||"{}"),h=f()((function(e){return{favoriteList:m,ratedMovies:v,searchValue:"",sidebarVisible:!1,movieList:[],modalDetails:null,setSearchValue:function(t){return e({searchValue:t})},setMovieList:function(t){return e({movieList:t})},setModalDetails:function(t){return e({modalDetails:t})},setSidebarVisible:function(t){return e({sidebarVisible:t})},addUserRating:function(t){e({ratedMovies:t})},addToFavorites:function(t){e((function(e){return{favoriteList:[t].concat(Object(d.a)(e.favoriteList))}}))},removeFromFavorites:function(t){return e((function(e){return{favoriteList:e.favoriteList.filter((function(e){return e.imdbID!==t}))}}))}}})),O=n(175),x=n(170),g=n(118),p=n(4),D=function(e){var t=e.movie,n=h((function(e){return e.setModalDetails}));return Object(p.jsxs)(O.a,{className:"movie-element",onClick:function(){return function(){var e="https://www.omdbapi.com/?i=".concat(t.imdbID,"&apikey=b46dc190");l.a.get(e).then((function(e){n(e.data)})).catch((function(e){return console.log(e)}))}()},children:[Object(p.jsx)(x.a,{className:"movie-element-img-container",children:Object(p.jsx)(g.a,{src:t.Poster,alt:"poster unavailable",wrapped:!0,className:"movie-element-img",centered:!0})}),Object(p.jsxs)(O.a.Content,{children:[Object(p.jsx)(O.a.Header,{children:t.Title}),Object(p.jsx)(O.a.Description,{children:Object(p.jsx)("p",{children:t.Year})})]})]})},w=function(){var e=h((function(e){return e.movieList}));return Object(p.jsx)(p.Fragment,{children:e&&Object(p.jsx)("div",{className:"list-container",children:e.map((function(e){return Object(p.jsx)(D,{movie:e},e.imdbID)}))})})},S=n(171),y=n(47),N=function(){var e=h((function(e){return e.searchValue})),t=h((function(e){return e.setSearchValue}));return Object(p.jsx)(x.a,{className:"search-container",children:Object(p.jsx)(S.a,{className:"search-input",size:"big",value:e,onChange:function(e){return t(e.target.value)},placeholder:"Search for a movie :)",icon:e?Object(p.jsx)(y.a,{name:"remove",inverted:!0,circular:!0,link:!0,onClick:function(){return t("")}}):null})})},I=n(174),k=n(178),C=n(179),V=n(180),L=n(63),M=n(181),R=n(159),F=n(172),T=function(){var e=h((function(e){return e.modalDetails})),t=h((function(e){return e.setModalDetails})),n=h((function(e){return e.favoriteList})),r=h((function(e){return e.addToFavorites})),i=h((function(e){return e.removeFromFavorites})),c=h((function(e){return e.ratedMovies})),a=h((function(e){return e.addUserRating})),s=e?c[e.imdbID]:null;return Object(p.jsx)(p.Fragment,{children:e&&Object(p.jsxs)(I.a,{onClose:function(){return t(null)},open:!!e,children:[Object(p.jsxs)(I.a.Content,{image:!0,children:[Object(p.jsx)(g.a,{size:"big",src:e.Poster,wrapped:!0}),Object(p.jsxs)(I.a.Description,{children:[Object(p.jsxs)(k.a,{children:[e.Title," ",e.Year," ",Object(p.jsx)("div",{className:"ui horizontal label",children:e.Type})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Genre:"})," ",e.Genre]})," ",Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Director:"})," ",e.Director]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Runtime:"})," ",e.Runtime]}),Object(p.jsx)("p",{children:e.Plot}),e.Ratings?Object(p.jsx)("strong",{children:Object(p.jsx)("p",{style:{marginBottom:10},children:"Ratings:"})}):null,e.Ratings?e.Ratings.map((function(e){return Object(p.jsxs)("p",{children:[Object(p.jsxs)("strong",{children:[e.Source,":"]})," ",e.Value]})})):null]})]}),Object(p.jsx)(I.a.Actions,{children:Object(p.jsxs)(C.a,{children:[Object(p.jsxs)(V.a,{columns:2,relaxed:"very",centered:!0,children:[Object(p.jsxs)(V.a.Column,{centered:!0,textAlign:"center",children:[Object(p.jsx)(L.a,{children:"How would you rate this movie?"}),Object(p.jsxs)("p",{style:{margin:"7px 0"},children:["Your rating:"," ",s||"You haven't rated it yet. Did you like it?"]}),Object(p.jsx)("input",{type:"range",min:0,max:10,value:s||0,onChange:function(t){var n={imdbID:null===e||void 0===e?void 0:e.imdbID,userRating:Number(t.currentTarget.value),ratedBefore:!0},r=c,i=Object.assign({},r);n.imdbID&&(i[n.imdbID]=n.userRating),a(i)}}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)(M.a,{className:"star-rating",icon:"star",rating:s||0,maxRating:10})]}),Object(p.jsx)(V.a.Column,{centered:!0,textAlign:"center",children:n.find((function(t){return t.imdbID===e.imdbID}))?Object(p.jsx)(R.a,{onClick:function(){return i(e.imdbID)},color:"red",children:"Remove from favorites"}):Object(p.jsx)(R.a,{onClick:function(){return r(e)},color:"blue",children:"Add to favorites"})})]}),Object(p.jsx)(F.a,{vertical:!0})]})})]})})},J=n(173),Y=function(e){var t=e.movie,n=h((function(e){return e.setModalDetails})),r=h((function(e){return e.setSidebarVisible}));return Object(p.jsxs)(J.a.Item,{onClick:function(){return function(){var e="https://www.omdbapi.com/?i=".concat(t.imdbID,"&apikey=b46dc190");l.a.get(e).then((function(e){n(e.data),window.innerWidth<1440&&r(!1)})).catch((function(e){return console.log(e)}))}()},children:[t.Title," - ",t.Year]})},A=n(182),E=function(){var e=h((function(e){return e.sidebarVisible})),t=h((function(e){return e.favoriteList})),n=h((function(e){return e.setSidebarVisible}));return Object(i.useEffect)((function(){0===t.length&&n(!1)}),[t]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(A.a,{as:J.a,animation:"overlay",inverted:!0,vertical:!0,visible:e,children:[Object(p.jsx)("h3",{children:"Your favorite movies!"}),t.length>0?t.map((function(e){return Object(p.jsx)(Y,{movie:e},e.imdbID)})):null]})})},G=function(){var e=h((function(e){return e.sidebarVisible})),t=h((function(e){return e.setSidebarVisible}));return e?Object(p.jsx)(R.a,{color:"grey",className:"sidebar-toggle",onClick:function(){return t(!1)},children:"Hide favorites"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(R.a,{color:"grey",className:"sidebar-toggle",onClick:function(){return t(!0)},children:"Show favorites"}),Object(p.jsx)(R.a,{icon:!0,color:"grey",className:"sidebar-toggle-sm",onClick:function(){return t(!0)},children:Object(p.jsx)("i",{className:"star icon yellow"})})]})},z=n(177),B=function(){var e=h((function(e){return e.sidebarVisible})),t=h((function(e){return e.setSidebarVisible}));return Object(p.jsx)(z.a,{active:e,onClickOutside:function(){return t(!e)},page:!0})};n(157);!function(e){e.Game="game",e.Movie="movie",e.Series="series"}(r||(r={}));var H=function(){var e=h((function(e){return e.searchValue})),t=h((function(e){return e.movieList})),n=h((function(e){return e.setMovieList})),c=h((function(e){return e.favoriteList})),a=h((function(e){return e.ratedMovies})),s="https://www.omdbapi.com/?s=".concat(e,"&apikey=b46dc190"),o=Object(i.useCallback)(j()((function(){l.a.get(s).then((function(e){var t=e.data.Search.filter((function(e){return e.Type!==r.Game}));n(t)})).catch((function(e){return console.log(e)}))}),500),[e]);return Object(i.useEffect)((function(){return o(),""===e&&n([]),o.cancel}),[e]),Object(i.useEffect)((function(){localStorage.setItem("favoriteList",JSON.stringify(c))}),[c]),Object(i.useEffect)((function(){localStorage.setItem("ratedMovies",JSON.stringify(a))}),[a]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(E,{}),Object(p.jsx)(C.a,{basic:!0,className:"app-container",children:Object(p.jsx)(N,{})}),t?Object(p.jsx)(C.a,{basic:!0,className:"app-container",children:Object(p.jsx)(w,{})}):null,Object(p.jsx)(T,{}),c.length?Object(p.jsx)(C.a,{basic:!0,children:Object(p.jsx)(G,{})}):null,Object(p.jsx)(B,{})]})};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(H,{})}),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.d71c7aaf.chunk.js.map